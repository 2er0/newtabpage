<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>new tab</title>

    <!-- generated with http://realfavicongenerator.net/ -->
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
    <link rel="icon" type="image/png" href="./favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="./manifest.json">
    <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">

    <meta name="description" content="a new tab was opened and is ready to use">
    <meta name="author" content="@bemayr">
    <style>
    body {
        width: 100vw;
        height: 100vh;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        -webkit-touch-callout: none; /* iOS Safari */
          -webkit-user-select: none; /* Chrome/Safari/Opera */
           -khtml-user-select: none; /* Konqueror */
             -moz-user-select: none; /* Firefox */
              -ms-user-select: none; /* Internet Explorer/Edge */
                  user-select: none; /* Non-prefixed version, currently not supported by any browser */
        font-size: 1em;
        text-shadow: 0 1px 5px rgba(0,0,0,.1);
    }
    #content {
        z-index: 2;
    }
    #heading {
        color: white;
        text-align: center;
        margin-top: 20vh;
    }
    #clock {
        letter-spacing: -5px;
        font-size: 1125%;
        font-weight: 500;
        margin-bottom: -.08em;
    }
    #greeting {
        font-size: 337.5%;
        letter-spacing: 0;
        white-space: nowrap;
        font-weight: 500;
    }

    #links {
        margin-top: 10vh;
        display: flex;
        flex-direction: row;
        justify-content: center;
        padding: .7em;
    }
    #links > a {
        color: white;
        text-decoration: none;
        text-transform: uppercase;
        margin: .7em;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: all .2s ease-in-out;
    }
    #links > a:hover {
        transform: scale(1.1);
    }
    #links .icon {
        fill: white;
        height: 2.3em;
        width: 2.3em;
    }
    #links label {
        display: block;
        cursor: pointer;
        font-size: .5em;
        text-align: center;
    }
    #background {
        margin: 0;
        padding: 0;
        z-index: 0;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: transparent;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
    }
    #background-overlay {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
        background: url(overlay.png);
        background-size: 100% 100%;
        opacity: .7;
    }
    #background-label {
        color: white;
        position: absolute;
        right: 2em;
        bottom: 1.2em;
        font-size: .9em;
        opacity: .5;
        text-decoration: none;
        cursor: pointer;
        z-index: 10;
    }
    </style>
</head>

<body onload="start()">
    <div id="background-overlay"></div>
    <div id="background"></div>
    <div id="content">
        <div id="heading">
            <div id="clock"></div>
            <div id="greeting"></div>
        </div>
        <div id="links">
            <a href="https://twitter.com">
                <svg class="icon" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 300.00006 280" height="280" width="300" version="1.1">
                    <g style="" transform="translate(-539.18 -568.86)">
                        <path d="m633.9 812.04c112.46 0 173.96-93.168 173.96-173.96 0-2.6463-0.0539-5.2806-0.1726-7.903 11.938-8.6302 22.314-19.4 30.498-31.66-10.955 4.8694-22.744 8.1474-35.111 9.6255 12.623-7.5693 22.314-19.543 26.886-33.817-11.813 7.0031-24.895 12.093-38.824 14.841-11.157-11.884-27.041-19.317-44.629-19.317-33.764 0-61.144 27.381-61.144 61.132 0 4.7978 0.5364 9.4646 1.5854 13.941-50.815-2.5569-95.874-26.886-126.03-63.88-5.2508 9.0354-8.2785 19.531-8.2785 30.73 0 21.212 10.794 39.938 27.208 50.893-10.031-0.30992-19.454-3.0635-27.69-7.6468-0.009 0.25652-0.009 0.50661-0.009 0.78077 0 29.61 21.075 54.332 49.051 59.934-5.1376 1.4006-10.543 2.1516-16.122 2.1516-3.9336 0-7.766-0.38716-11.491-1.1026 7.7838 24.293 30.355 41.971 57.115 42.465-20.926 16.402-47.287 26.171-75.937 26.171-4.929 0-9.7983-0.28036-14.584-0.84634 27.059 17.344 59.189 27.464 93.722 27.464"></path>
                    </g>
                </svg>
                <label>twitter</label>
            </a>
            <a href="https://dribbble.com">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="-35 -5 582 582" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
                    <path d="M 464.313 255.99 c 0 114.873 -93.44 208.313 -208.281 208.313 c -114.893 0 -208.313 -93.44 -208.313 -208.313 c 0 -114.873 93.43 -208.313 208.313 -208.313 c 114.841 0 208.281 93.44 208.281 208.313 Z M 256.031 19.845 c -130.274 0 -236.196 105.933 -236.196 236.144 c 0 130.232 105.922 236.175 236.196 236.175 c 130.181 0 236.144 -105.943 236.144 -236.175 c -0.01 -130.222 -105.964 -236.144 -236.144 -236.144 Z" />
                    <path d="M 160.297 53.504 v 0 c 1.638 2.007 165.509 202.66 173.394 404.572 l 27.863 -1.086 c -8.295 -211.415 -172.769 -412.795 -179.763 -421.202 l -21.494 17.715 Z" />
                    <path d="M 28.907 229.089 c 2.407 0.655 239.442 64.563 388.045 -122.532 l -21.842 -17.316 c -137.165 172.718 -356.454 113.644 -358.646 112.999 l -7.557 26.85 Z" />
                    <path d="M 115.978 426.783 v 0.041 c 4.915 -9.523 123.136 -231.239 353.26 -141.957 l 10.127 -25.979 c -253.675 -98.468 -386.806 152.586 -388.168 155.136 l 24.781 12.759 Z" />
                </svg>
                <label>dribbble</label>
            </a>
            <a href="https://github.com/sindresorhus/awesome">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 -67 640 350"><path d="M614.2 91l-150-137.6-21.1 23L568.1 91H75.4l125-114.7-21.1-23L29.3 91h-.1v90.7c0 41 39.5 74.4 88 74.4h92.5c48.5 0 88-33.4 88-74.4v-59.6h48v59.6c0 41 39.5 74.4 88 74.4h92.5c48.5 0 88-33.4 88-74.4V91z"/></svg>
                <label>awesome</label>
            </a>
        </div>
        <a id="background-label"></a>
    </div>

    <script>
    var images = [
        { "filename": "743f40b2a12d45b18c01f1e5792d023e.jpg", "location": "Baltic Sea, Finland"},
        { "filename": "ea1ddd9bfa97413188353783e6e55f1f.jpg", "location": "Knutnäsvägen, Åland"}
    ];

    function start() {
        randomizeBackground(images);
        tick();
    }
    function randomizeBackground(images, imagePath = "./img/") {
        randomImage = images[Math.floor(Math.random() * images.length)];
        document.getElementById('background').style.backgroundImage = "url(" + imagePath + randomImage.filename + ")";
        document.getElementById('background-label').innerHTML = randomImage.location;
        document.getElementById('background-label').href = "http://maps.google.com/?q=" + (encodeURIComponent(randomImage.location));
    }
    function tick() {
        function setContent(elementId, content) {
            document.getElementById(elementId).innerHTML = content;
        }
        var now = new Date();
        setContent('clock', getTimeLabel(now));
        setContent('greeting', getGreetingLabel(now));
        setTimeout(tick, 500);
    }
    function getTimeLabel(time) {
        function formatTime(number) {
            return ("0" + number).slice(-2);
        }
        return formatTime(time.getHours()) + ":" + formatTime(time.getMinutes()); // + ":" + formatTime(time.getSeconds());
    }
    function getGreetingLabel(time, name = "Bernhard") {
        time = time.getHours() * 100;
        if (time < 0400) return "Go to bed, " + name + "."; else
        if (time < 1100) return "Good morning, " + name + "."; else
        if (time < 1230) return "Enjoy your meal, " + name + "."; else
        if (time < 1700) return "Good afternoon, " + name + "."; else
                         return "Good evening, " + name + ".";
    }
    </script>
</body>
</html>
